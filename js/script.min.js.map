{"version":3,"sources":["script.min.js"],"names":["docReady","fn","document","readyState","setTimeout","addEventListener","toggleNavigation","getElementById","onclick","nav","classList","contains","remove","add","chooseVideo","getElementIndex","element","parentNode","children","indexOf","portfolio","list","getElementsByClassName","e","item","target","closest","pastVideo","iframe","player","Vimeo","Player","pause","setCurrentTime","index","style","order","play","length","buildGrid","i","window","innerWidth","openBooking","anchors","openingClass","visibleClass","modal","closeButton","modalChoose","modalIncorrect","form","calendar","elem","dateInput","value","split","join","anchor","setPlanAndPrice","plan","planInput","priceInput","title","innerHTML","price"],"mappings":"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","file":"script.min.js","sourcesContent":["\"use strict\";\n\nfunction docReady(fn) {\n  // see if DOM is already available\n  if (document.readyState === \"complete\" || document.readyState === \"interactive\") {\n    // call on next available tick\n    setTimeout(fn, 1);\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", fn);\n  }\n}\n\nfunction toggleNavigation() {\n  const hamburger = document.getElementById('hamburger');\n\n  hamburger.onclick = () => {\n    const nav = document.getElementById('navigation');\n\n    if (nav.classList.contains('navigation--open')) {\n      nav.classList.remove('navigation--open');\n    } else {\n      nav.classList.add('navigation--open');\n    }\n  };\n}\n\nfunction chooseVideo() {\n  function getElementIndex(element) {\n    return [...element.parentNode.children].indexOf(element);\n  }\n\n  const portfolio = document.getElementById('portfolio');\n  if (!portfolio) return;\n  const list = portfolio.getElementsByClassName('portfolio-item');\n\n  portfolio.onclick = function (e) {\n    let item = e.target.closest('.portfolio-item');\n    if (!item) return;\n    const pastVideo = document.getElementsByClassName('portfolio-item--playing')[0];\n\n    if (pastVideo) {\n      pastVideo.classList.remove('portfolio-item--playing');\n      let iframe = pastVideo.getElementsByClassName('portfolio-item__iframe')[0];\n      let player = new Vimeo.Player(iframe);\n      player.pause();\n      player.setCurrentTime(0);\n      const index = getElementIndex(pastVideo);\n      pastVideo.style.order = index * 2;\n    }\n\n    item.classList.add('portfolio-item--playing');\n    let iframe = item.getElementsByClassName('portfolio-item__iframe')[0];\n    let player = new Vimeo.Player(iframe);\n    player.play();\n    const index = getElementIndex(item);\n\n    if (index % 2 == 0 && index < list.length) {\n      item.style.order = index * 2 + 3;\n    } else if (index % 2 == 0 && index == list.length) {\n      item.style.order = index * 2 - 3;\n    }\n  };\n}\n\nfunction buildGrid() {\n  const portfolio = document.getElementById('portfolio');\n  if (!portfolio) return;\n  const list = portfolio.getElementsByClassName('portfolio-item');\n\n  for (let i = 0; i < list.length; i++) {\n    const item = list[i];\n    item.style.order = (i + 1) * 2;\n  }\n\n  if (window.innerWidth >= 600) {\n    list[0].classList.add('portfolio-item--playing');\n    let iframe = list[0].getElementsByClassName('portfolio-item__iframe')[0];\n    let player = new Vimeo.Player(iframe);\n    player.play();\n  }\n}\n\nfunction openBooking() {\n  const anchors = document.getElementsByClassName('plan__book');\n  if (anchors.length === 0) return;\n  const openingClass = 'booking-modal--opening';\n  const visibleClass = 'booking-modal--visible';\n  const modal = document.getElementById('booking-modal');\n  const closeButton = document.getElementById('booking-modal__close-button');\n  const modalChoose = document.getElementsByClassName('booking-modal__choose')[0];\n  const modalIncorrect = document.getElementsByClassName('booking-modal__incorrect')[0];\n  const form = document.getElementsByClassName('wpbc_structure_form')[0];\n  const calendar = document.getElementsByClassName('wpbc_structure_calendar')[0];\n\n  closeButton.onclick = () => closeModal();\n\n  modalChoose.classList.add(visibleClass);\n  calendar.addEventListener(\"click\", function (e) {\n    const elem = e.target.closest('td');\n    if (!elem) return;\n\n    if (elem.classList.contains('date_approved')) {\n      form.classList.remove(visibleClass);\n      modalChoose.classList.remove(visibleClass);\n      modalIncorrect.classList.add(visibleClass);\n      const currentDay = document.getElementsByClassName('datepick-current-day')[0];\n      currentDay.classList.remove('datepick-current-day');\n    }\n\n    if (elem.classList.contains('datepick-unselectable')) return;\n\n    if (elem.classList.contains('date_available')) {\n      form.classList.add(visibleClass);\n      modalChoose.classList.remove(visibleClass);\n      modalIncorrect.classList.remove(visibleClass);\n      const dateInput = document.getElementById('date1');\n      const value = document.getElementById('date_booking1').value;\n      dateInput.value = value.split('.').join(' / ');\n    }\n  });\n\n  for (let anchor of anchors) {\n    anchor.onclick = function (e) {\n      const plan = e.target.closest('.plan');\n      setPlanAndPrice(plan);\n      openModal();\n    };\n  }\n\n  function openModal() {\n    modal.classList.add(openingClass);\n  }\n\n  function closeModal() {\n    modal.classList.remove(openingClass);\n  }\n\n  function setPlanAndPrice(plan) {\n    const planInput = document.getElementById('plan1');\n    const priceInput = document.getElementById('price1');\n    const title = plan.getElementsByClassName('plan__title')[0].innerHTML;\n    const price = plan.getElementsByClassName('plan__price')[0].innerHTML;\n    planInput.value = title;\n    priceInput.value = price;\n  }\n}\n\ndocReady(function () {\n  toggleNavigation();\n  buildGrid();\n  chooseVideo();\n  openBooking();\n});"]}